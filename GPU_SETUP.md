# üöÄ GPU Setup –¥–ª—è RTX 2060 Super

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
cd apps/client

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
python check_gpu.py

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PyTorch —Å GPU
python install_pytorch_gpu.py

# –ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ GPU
python fl_train_simple.py
```

## –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ

### –î–û (CPU):
```
Device: cpu
Epoch 1/5: 0.5 seconds
Total training time: ~2.5 seconds
```

### –ü–û–°–õ–ï (GPU):
```
Device: cuda
Epoch 1/5: 0.03 seconds
Total training time: ~0.15 seconds

üöÄ –£—Å–∫–æ—Ä–µ–Ω–∏–µ: 15-20x
```

## –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA

```bash
nvidia-smi
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à—É RTX 2060 Super. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã:
https://www.nvidia.com/Download/index.aspx

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch —Å CUDA

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
python install_pytorch_gpu.py
```

**–í—Ä—É—á–Ω—É—é:**
```bash
# –£–¥–∞–ª–∏—Ç–µ CPU –≤–µ—Ä—Å–∏—é
pip uninstall torch torchvision torchaudio -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GPU –≤–µ—Ä—Å–∏—é (CUDA 11.8)
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
python check_gpu.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
[OK] CUDA available: YES
[OK] CUDA version: 11.8
[OK] GPU 0: NVIDIA GeForce RTX 2060 SUPER
     Memory: 8.00 GB
[OK] GPU computation test: PASSED
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ

```bash
python fl_train_simple.py
```

–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç:
```
Using device: cuda    ‚Üê –í–∞–∂–Ω–æ! –î–æ–ª–∂–Ω–æ –±—ã—Ç—å cuda, –Ω–µ cpu
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU

–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
nvidia-smi -l 1
```

–í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
| GPU  Name           |  Memory-Usage  | GPU-Util |
| RTX 2060 SUPER      |  1500MB / 8GB  |    95%   |
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (17 —Å–≤–∞–π–ø–æ–≤):
- **CPU**: ~2.5 —Å–µ–∫—É–Ω–¥—ã
- **GPU**: ~0.15 —Å–µ–∫—É–Ω–¥—ã
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 15-20x

### –î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (1000 —Å–≤–∞–π–ø–æ–≤):
- **CPU**: ~60 —Å–µ–∫—É–Ω–¥
- **GPU**: ~3 —Å–µ–∫—É–Ω–¥—ã
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 20x

### –î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (10000+ —Å–≤–∞–π–ø–æ–≤):
- **CPU**: 10-20 –º–∏–Ω—É—Ç
- **GPU**: 30-60 —Å–µ–∫—É–Ω–¥
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 20-40x

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ batch_size –¥–ª—è GPU

–í–∞—à–∞ RTX 2060 Super –∏–º–µ–µ—Ç 8GB VRAM, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```python
# config.py
batch_size: int = 64    # –î–ª—è –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ < 1000 —Å–≤–∞–π–ø–æ–≤
# –∏–ª–∏
batch_size: int = 128   # –î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
```

### –ï—Å–ª–∏ "Out of memory":
```python
batch_size: int = 32    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
# –∏–ª–∏
batch_size: int = 16    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ
```

## Troubleshooting

### "CUDA not available" –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é PyTorch
python -c "import torch; print(torch.__version__)"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 2.1.2+cu118 (–ù–ï +cpu)

# –ï—Å–ª–∏ +cpu, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
pip cache purge
pip uninstall torch torchvision torchaudio -y
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### "RuntimeError: out of memory"

–£–º–µ–Ω—å—à–∏—Ç–µ `batch_size` –≤ `config.py`:
```python
batch_size: int = 16
```

### GPU –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```bash
python fl_train_simple.py 2>&1 | grep "device"
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Using device: cuda
```

–ï—Å–ª–∏ `cpu`, –∑–Ω–∞—á–∏—Ç PyTorch –Ω–µ –≤–∏–¥–∏—Ç GPU. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å CUDA.

### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ GPU —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è (>85¬∞C)

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—é –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
2. –û—á–∏—Å—Ç–∏—Ç–µ –ø—ã–ª—å —Å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã
3. –£–≤–µ–ª–∏—á—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ MSI Afterburner
4. –£–º–µ–Ω—å—à–∏—Ç–µ `batch_size` –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è RTX 2060 Super

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```python
# config.py

# –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
batch_size: int = 64
num_epochs: int = 10
learning_rate: float = 0.001

# –ú–æ–¥–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–π –∂–µ
input_size: int = 7
hidden_size: int = 512
alphabet_size: int = 40
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—É—á–µ–Ω–∏—è

| –î–∞—Ç–∞—Å–µ—Ç      | CPU (Intel i7) | GPU (RTX 2060 Super) | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|--------------|----------------|----------------------|-----------|
| 17 —Å–≤–∞–π–ø–æ–≤   | 2.5s           | 0.15s                | 17x       |
| 100 —Å–≤–∞–π–ø–æ–≤  | 15s            | 0.8s                 | 19x       |
| 1000 —Å–≤–∞–π–ø–æ–≤ | 60s            | 3s                   | 20x       |
| 10000 —Å–≤–∞–π–ø–æ–≤| 10min          | 30s                  | 20x       |

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU
python check_gpu.py

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyTorch —Å GPU
python install_pytorch_gpu.py

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU
nvidia-smi -l 1

# –û–±—É—á–µ–Ω–∏–µ –Ω–∞ GPU
python fl_train_simple.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
nvidia-smi --query-gpu=memory.used,memory.total --format=csv
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ:
```bash
python fl_train_simple.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç GPU –∏ –±—É–¥–µ—Ç –æ–±—É—á–∞—Ç—å –Ω–∞ –Ω–µ–º –≤ 20 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ! üöÄ

---

**–í–∞—à–∞ RTX 2060 Super** ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π.
–° 8GB VRAM –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ–±—É—á–∞—Ç—å –¥–∞–∂–µ –±–æ–ª—å—à–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.

